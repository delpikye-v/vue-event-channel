import{createTypedEventBus as n}from"eventbus-z";import{onUnmounted as o}from"vue";function t(){const o=n();return{emit:function(n,...t){const f=t[t.length-1],i="object"==typeof f&&null!==f&&"transition"in f,e=i?t.slice(0,-1):t,c=()=>{o.$emit(n,...e)};i&&f.transition?queueMicrotask(c):c()},on:function(n,t){return o.$on(n,t),()=>{o.$off(n,t)}},once:function(n,t){const f=(...i)=>{t(...i),o.$off(n,f)};return o.$on(n,f),()=>{o.$off(n,f)}},off:function(n,t){o.$off(n,t)}}}function f(n,t,f){const i=n.on(t,f);o(()=>{i()})}export{t as createChannel,f as useChannel};
